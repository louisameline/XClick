/*v1.2.1 https://github.com/louisameline/XClick MIT license*/;(function(e){var t={delegate:"",enable:true,enableForAllBrowsers:false,silentEventName_mousedown:"mousedownSilent",silentEventName_mouseup:"mouseupSilent",onTriggered:function(){return false}};var n=false;var r=navigator.userAgent;if(r.indexOf("MSIE")!==-1||r.indexOf("Trident")!==-1&&r.indexOf(" rv:1")!==-1)n=true;e.fn.xcBindFirst=function(t,n){this.on(t,n);return this.each(function(){var n=e._data(this,"events")[t.split(".")[0]];var r=n.pop();n.splice(0,0,r)})};e.XClick=function(){var r=this;r.expectingElement=null;r.lastElements={};r.options=e.extend({},t);r.preboundElements=[];r.onXClick=function(t,n){e(n).off("click.xc");if(n===r.expectingElement&&n===t.target){r.expectingElement=null;var i=r.options.onTriggered.call(n,{event:t,mousedownElement:r.lastElements.mousedown,mouseupElement:r.lastElements.mouseup});if(i!==true)t.stopImmediatePropagation()}else{r.expectingElement=null}};r.preboundHandler=function(e,t){if(t===r.expectingElement)r.onXClick(e,t)};this.destroy=function(){r.disable();e.each(r.preboundElements,function(e,t){t.removeData("xcPrebound").off("click.xcPrebound")});delete this};r.enable=function(){if(n||r.options.enableForAllBrowsers){e("body").on("mousedown.xc "+r.options.silentEventName_mousedown+".xc",r.options.delegate,function(e){r.lastElements.mousedown=e.target}).on("mouseup.xc "+r.options.silentEventName_mouseup+".xc",r.options.delegate,function(t){r.lastElements.mouseup=t.target;if(r.lastElements.mousedown&&r.lastElements.mouseup&&r.lastElements.mousedown!==r.lastElements.mouseup){var n=e(r.lastElements.mousedown).parents().addBack().get().reverse(),i=e(r.lastElements.mouseup).parents().addBack().get().reverse(),s=null;e.each(n,function(t,n){e.each(i,function(t,r){if(n===r||e(n).has(r).length>0){s=e(n);return false}});if(s)return false});r.expectingElement=s[0];if(!s.data("xcPrebound")){s.xcBindFirst("click.xc",function(e){r.onXClick(e,this)});setTimeout(function(){s.off("click.xc");r.expectingElement=null},0)}}})}return r};r.disable=function(){e("body").off(".xc");return r};r.setOptions=function(t){e.extend(r.options,t);return r};r.prebind=function(t){var n=typeof t==="string"?e(t):t;n.data("xcPrebound",true).on("click.xcPrebound",function(e){r.preboundHandler(e,this)});r.preboundElements.push(n);return r};r.reset=function(){r.disable();r.enable();return r};r.setOptions(arguments[0]);r.enable()}})(jQuery);